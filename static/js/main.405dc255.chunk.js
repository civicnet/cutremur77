(this.webpackJsonpcutremur=this.webpackJsonpcutremur||[]).push([[0],{195:function(e,t){},289:function(e,t,a){e.exports=a(408)},294:function(e,t,a){},295:function(e,t,a){},403:function(e,t){},408:function(e,t,a){"use strict";a.r(t);var n,r,i=a(1),o=a.n(i),c=a(43),l=a.n(c),s=(a(294),a(12)),u=a(47),m=a(0),d=(a(295),a(410)),p=a(260),f=a.n(p),g=a(261),b=a.n(g),h=a(438),E=a(465),v=a(441),O=a(442),S=a(173),w=a(443),y=a(455),N=a(467);!function(e){e.EW="EW",e.NS="NS",e.Z="Z"}(n||(n={})),function(e){e.P="P",e.S="S"}(r||(r={}));var j=a(13),C=a.n(j),x=a(26),L=a(134),k=a.n(L),_=a(117),T=function(e){return"https://cdn.jsdelivr.net/gh/civicnet/cutremur77@latest/public/data/".concat(e)};function P(e,t){return{type:"RECEIVE_ACCELERATION",direction:e,values:t}}function A(e,t){return{type:"RECEIVE_WAVE",waveType:e,waveData:t}}var W,z=a(96),R=(W={},Object(m.a)(W,n.EW,"#c43a31"),Object(m.a)(W,n.NS,"#eceac7"),Object(m.a)(W,n.Z,"#c0978d"),W),I=Object(z.b)((function(e){return{data:e.data}}),(function(e){return{fetchAccelerationAction:function(){return e(function(){var e=Object(x.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().acceleration){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:Object.keys(n).forEach((function(e){var a=0;k()(T("".concat(e.toLocaleLowerCase(),"_min.json"))).node("!.*",(function(e){return 10===a?(a=0,e):(a++,k.a.drop)})).done((function(a){var n=a.map((function(t){return t[e.toLowerCase()]})).filter((function(e){return!!e}));t(P(e,Object(_.a)(n)))}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.fetchAccelerationAction;return Object(i.useEffect)((function(){t()}),[t]),e.data.acceleration.EW.size&&e.data.acceleration.NS.size&&e.data.acceleration.Z.size?o.a.createElement("div",{style:Object(u.a)({},e.style,{flexDirection:"column"})},Object.keys(e.data.acceleration).map((function(t,a){return o.a.createElement("div",null,o.a.createElement("span",{style:{position:"absolute",top:20*a,left:"-70%",fontSize:12,color:R[t],pointerEvents:"none"}},"Accelera\u021bie ",t," (cm/s",o.a.createElement("sup",null,"2"),")"),o.a.createElement(y.a,{key:t,height:25,width:400,data:e.data.acceleration[t].toJS(),containerComponent:o.a.createElement(N.a,{responsive:!0,height:25}),padding:0,style:{data:{stroke:R[t],strokeWidth:1.5},parent:{position:"absolute",top:20*a,zIndex:3-a}}}))}))):null})),B=a(17),V=Object(h.a)((function(e){return Object(E.a)({root:{width:2,height:"100%",background:"#fff",position:"absolute",zIndex:100},topNotch:{position:"absolute",top:0,left:-9,width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"10px solid #fff"},bottomNotch:{position:"absolute",bottom:0,left:-9,width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderBottom:"10px solid #fff"}})})),D=function(e){var t=V();return o.a.createElement("div",{className:t.root,style:{left:"calc(".concat(e.progress,"% - 3px)")}},o.a.createElement("div",{className:t.topNotch}),o.a.createElement("div",{className:t.bottomNotch}))},F=Object(h.a)((function(e){return Object(E.a)({root:{flexGrow:1,display:"flex",position:"relative"},bar:{flex:1,height:20,alignSelf:"flex-end",borderTop:"2px dashed #3A3630",flexDirection:"row",justifyContent:"space-between",display:"flex",paddingTop:4},barLabels:{display:"inline-block",color:"#fff",fontSize:12,opacity:.7,cursor:"pointer"},barLabelsUnit:{fontSize:10},activeBarLabel:{fontWeight:"bold",opacity:1}})})),M=function(e){var t=F();return o.a.createElement("div",{className:t.root},e.children,o.a.createElement("div",{className:t.bar},Array.from(Array(U/10+1).keys()).map((function(a){var n=10*a;return o.a.createElement(S.a,{onClick:function(){return e.jumpToTime(n)},className:Object(B.a)(t.barLabels,n<e.timeElapsed?t.activeBarLabel:null),component:"span"},n||"00",o.a.createElement(S.a,{className:t.barLabelsUnit,component:"span"},"S"))}))),o.a.createElement(D,{progress:e.progress}))};var J=Object(h.a)((function(e){return Object(E.a)({root:{position:"absolute",background:"#5B554D",width:"60vw",bottom:20,left:"20vw",padding:8,paddingRight:20},timelineContents:{display:"flex",flex:1,height:84},title:{color:"#38342F",textAlign:"left",fontWeight:"bold",fontSize:12,marginBottom:12,textTransform:"uppercase"},debug:{position:"absolute",bottom:20,left:20,textAlign:"left",minWidth:200,minHeight:100},controls:{height:"100%",alignSelf:"center",justifySelf:"center",minWidth:80,position:"relative"},clock:{fontSize:12,fontWeight:"bold",position:"absolute",width:"100%",bottom:-4}})})),U=80,X=Object(z.b)((function(e){return{ui:e.ui}}),(function(e){return{play:function(){return e({type:"CONTROLS_PLAY"})},pause:function(){return e({type:"CONTROLS_PAUSE"})},stop:function(){return e({type:"CONTROLS_STOP"})},incrementTick:function(){return e({type:"CONTROLS_INC_TICK"})}}}))((function(e){var t=J(),a=o.a.useState(600),n=Object(s.a)(a,2),r=n[0],i=n[1];o.a.useEffect((function(){e.onAnimationFrame(r);var t=null;return e.ui.isPlaying?t=setInterval((function(){i(r+2),.05*r>=U&&e.pause()}),20):!e.ui.isPlaying&&0!==r&&t&&clearInterval(t),function(){return clearInterval(t)}}));var c=.05*r,l=100*c/U,u=4700/U,m=3300/U,p=new Date("1977-03-04 21:21:11");p.setSeconds(p.getSeconds()+c);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{className:t.debug},o.a.createElement(O.a,null,o.a.createElement(S.a,{variant:"body2",component:"p"},"Frame #: ",o.a.createElement("strong",null,r)),o.a.createElement(S.a,{variant:"body2",component:"p"},"Time : ",o.a.createElement("strong",null,c.toLocaleString("ro-RO")," sec")))),o.a.createElement(d.a,{className:t.root,style:{}},o.a.createElement(S.a,{component:"h3",className:t.title},"Propagare seism 1977"),o.a.createElement("div",{className:t.timelineContents},o.a.createElement("div",{className:t.controls},o.a.createElement(w.a,{"aria-label":"playback",onClick:function(){e.ui.isPlaying?e.pause():e.play()}},e.ui.isPlaying?o.a.createElement(b.a,{fontSize:"large",htmlColor:"#eceac7"}):o.a.createElement(f.a,{fontSize:"large",htmlColor:"#eceac7"})),o.a.createElement(S.a,{className:t.clock},p.getHours(),":",p.getMinutes(),":"," ",o.a.createElement(S.a,{style:{color:"#fff",fontSize:12},component:"span"},p.getSeconds()))),o.a.createElement(M,{progress:l,timeElapsed:c,jumpToTime:function(t){e.ui.isPlaying&&e.pause(),i(t/.05),e.onAnimationFrame(r)}},o.a.createElement(I,{style:{position:"absolute",top:0,left:"".concat(m,"%"),width:"".concat(u,"%")}})))))})),Z=a(269),H=a(456),Y=a(459),q=a(272),G=a(460),K=a(239),$={width:window.innerWidth,height:window.innerHeight,longitude:23.5602928,latitude:46.0291793,zoom:6,maxZoom:20,minZoom:1,bearing:0,pitch:0},Q=[{coords:{lat:44.44,long:26.16},name:"Sta\u021bia seismic\u0103 INCERC"},{coords:{lat:45.77,long:26.76},name:"Epicentru"}],ee=Object(z.b)((function(e){return{data:e.data}}),(function(e){return{fetchWaveAction:function(){return e(function(){var e=Object(x.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().waves){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:k()(T("travel_time_p.geojson")).done((function(e){t(A(r.P,e))})),k()(T("travel_time_s.geojson")).done((function(e){t(A(r.S,e))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.fetchWaveAction;Object(i.useEffect)((function(){t()}),[t]);var a=.05*e.animationFrame,n=new Y.a({id:"p-geojson-layer",data:e.data.waves[r.P],pickable:!1,stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:function(e){var t=e.properties.Sec_P<a&&e.properties.Sec_P>a-2?255:0;return e.properties.Sec_P<a-2&&(t=30),e.properties.Sec_P<a-20&&(t=10),[200,160,80,t]},lineWidthUnits:"pixels",getLineWidth:function(e){return e.properties.Sec_P<a&&e.properties.Sec_P>a-2?2:1},updateTriggers:{getLineColor:[a],getLineWidth:[a]},transitions:{getLineColor:{duration:500,easing:K.a,enter:function(e){return[e[0],e[1],e[2],0]}}}}),c=new Y.a({id:"s-geojson-layer",data:e.data.waves[r.S],pickable:!1,stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:function(e){var t=e.properties.Sec_S<a&&e.properties.Sec_S>a-2?255:0;return e.properties.Sec_S<a-2&&(t=30),e.properties.Sec_S<a-20&&(t=10),[200,80,80,t]},lineWidthUnits:"pixels",getLineWidth:function(e){return e.properties.Sec_S<a&&e.properties.Sec_S>a-2?2:1},updateTriggers:{getLineColor:[a],getLineWidth:[a]},transitions:{getLineColor:{duration:500,easing:K.a,enter:function(e){return[e[0],e[1],e[2],0]}}}}),l=new q.a({id:"scatterplot-layer",data:Q,pickable:!1,filled:!0,radiusScale:15,radiusMinPixels:1,radiusMaxPixels:100,getPosition:function(e){return[e.coords.long,e.coords.lat]},getFillColor:[255,0,0],getRadius:300}),s=Q.map((function(e){return e.name.split("")})).reduce((function(e,t){return t.forEach((function(t){return e.push(t)})),e}),[]),u=new G.a({id:"text-layer",data:Q,pickable:!1,getPosition:function(e){return[e.coords.long,e.coords.lat]},getText:function(e){return e.name},getSize:20,getAngle:0,getTextAnchor:"middle",getAlignmentBaseline:"bottom",characterSet:s,getPixelOffset:[0,-20],getColor:[255,230,200]});return o.a.createElement(H.a,{initialViewState:$,controller:!0,layers:[n,c,l,u]},o.a.createElement(Z.a,{width:"100%",height:"100%",mapStyle:"mapbox://styles/claudiuc/ck7cg1f360fpu1jnkdksbg2xx/draft",mapboxApiAccessToken:"pk.eyJ1IjoiY2xhdWRpdWMiLCJhIjoiY2s3YXk4enVtMTNibzNtb2duNXk2M3doNSJ9.yoRycMmJVOJcdBMrLXEqLw"}))})),te=a(449),ae=a(458),ne=a(450),re=a(451),ie=a(452),oe=a(466),ce=a(453),le=a(454),se=a(448),ue=a(463),me=a(166),de=a(98),pe=a(266),fe=[{path:"/",exact:!0,main:function(){return null},icon:o.a.createElement(se.a,{className:"fal fa-home",fontSize:"small"}),text:"Atlas"},{path:"/despre",main:function(){return o.a.createElement("div",null,"Despre")},icon:o.a.createElement(se.a,{className:"fal fa-question-circle",fontSize:"small"}),text:"Ghid"},{path:"/changelog",main:function(){return o.a.createElement("div",null,"Change")},icon:o.a.createElement(se.a,{className:"fal fa-layer-group",fontSize:"small"}),text:"Seturi de date"},{path:"/changelog",main:function(){return o.a.createElement("div",null,"Change")},icon:o.a.createElement(se.a,{className:"fal fa-info-circle",fontSize:"small"}),text:"Despre"},{path:"/changelog",main:function(){return o.a.createElement("div",null,"Change")},icon:o.a.createElement(se.a,{className:"fal fa-at",fontSize:"small"}),text:"Contact"}],ge=Object(h.a)((function(e){return{paper:{padding:e.spacing(1)},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerPaper:{background:"#1E1515"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(m.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),grow:{flexGrow:1},menuItem:{color:"#FCF1E4"},infoPanel:{position:"absolute",left:110,top:35,width:260,zIndex:100,color:"#AFA294",textAlign:"left",pointerEvents:"none"},toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),title:{fontFamily:"'Roboto Condensed', Roboto, sans-serif",fontWeight:700,fontSize:"3.5em",lineHeight:.9},subtitle:{fontWeight:300,fontSize:"1.5em",paddingBottom:10,marginBottom:20,borderBottom:"1px solid #6B655D",letterSpacing:2},metadata:{fontWeight:300},stats:{marginTop:40},statLabel:{marginBottom:20,fontWeight:300},statValue:{color:"#CC3333",fontSize:"3em",lineHeight:.9,fontWeight:700},toggleButton:{position:"absolute",right:35,top:35,width:120,height:120,borderRadius:"50%",zIndex:100,background:"#5C574D",border:"1px solid #9C9489",color:"#9C9489"},toggleButtonLabel:{flexDirection:"column"},toggleButtonText:{lineHeight:1,marginTop:12,fontSize:16,fontWeight:"bold"}}})),be=Object(de.e)((function(e){var t,a,n=o.a.useState(0),r=Object(s.a)(n,2),i=r[0],c=r[1],l=ge(),u=o.a.useState(!1),d=Object(s.a)(u,2),p=d[0],f=d[1];return o.a.useEffect((function(){Object(pe.loadCSS)("https://pro.fontawesome.com/releases/v5.10.1/css/all.css",document.querySelector("#font-awesome-css"))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(te.a,null),o.a.createElement(ae.a,{variant:"permanent",className:Object(B.a)(l.drawer,(t={},Object(m.a)(t,l.drawerOpen,p),Object(m.a)(t,l.drawerClose,!p),t)),classes:{paper:Object(B.a)(l.drawerPaper,(a={},Object(m.a)(a,l.drawerOpen,p),Object(m.a)(a,l.drawerClose,!p),a))}},o.a.createElement("div",{className:l.toolbar},o.a.createElement(ne.a,{component:"a",onClick:function(){f(!p)},style:{display:"flex",flex:1,justifyContent:"center"}},p?o.a.createElement("img",{src:"Logo_Cutremur_Full.svg",style:{height:32},alt:"CivicNet Logo"}):o.a.createElement("img",{src:"Logo_Cutremur_Simbol.svg",style:{height:32},alt:"CivicNet Logo"}))),o.a.createElement(re.a,null),o.a.createElement(ie.a,null,fe.map((function(t){return o.a.createElement(oe.a,{button:!0,key:t.text,component:me.b,to:t.path,className:l.menuItem,selected:e.location.pathname===t.path},o.a.createElement(ce.a,{style:{marginLeft:12},className:l.menuItem},t.icon),o.a.createElement(le.a,{primary:t.text}))})))),o.a.createElement("main",null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:l.infoPanel},o.a.createElement(S.a,{className:l.title,component:"h1"},"Cutremur"),o.a.createElement(S.a,{className:l.subtitle,component:"h2"},"4 martie 1977"),o.a.createElement(S.a,{className:l.metadata},o.a.createElement("strong",null,"Vrancea")," - zona seismic\u0103"),o.a.createElement(S.a,{className:l.metadata},o.a.createElement("strong",null,"7.4 Mw")," - magnitudine"),o.a.createElement(S.a,{className:l.metadata},o.a.createElement("strong",null,"94 km")," - ad\xe2ncime"),o.a.createElement(S.a,{className:l.metadata},o.a.createElement("strong",null,"21:21")," - ora local\u0103"),o.a.createElement("div",{className:l.stats},o.a.createElement(S.a,{className:l.statValue},"1.578"),o.a.createElement(S.a,{className:l.statLabel},"deceda\u021bi"),o.a.createElement(S.a,{className:l.statValue},"11.321"),o.a.createElement(S.a,{className:l.statLabel},"r\u0103ni\u021bi"),o.a.createElement(S.a,{className:l.statValue},"32.897"),o.a.createElement(S.a,{className:l.statLabel},"cl\u0103diri avariate"),o.a.createElement(S.a,{className:l.statValue},"2 MLD $"),o.a.createElement(S.a,{className:l.statLabel},"impact economic"))),o.a.createElement(ne.a,{variant:"contained",color:"inherit",disableElevation:!0,classes:{label:l.toggleButtonLabel,root:l.toggleButton}},o.a.createElement(se.a,{className:"fas fa-map-marked-alt",style:{display:"block"}}),o.a.createElement("div",{className:l.toggleButtonText},"Vezi h\u0103r\u021bi")),o.a.createElement(ee,{animationFrame:i}),o.a.createElement(X,{onAnimationFrame:c})),o.a.createElement(ue.a,null,fe.map((function(e,t){return o.a.createElement(de.a,{key:t,path:e.path,exact:e.exact,children:o.a.createElement(e.main,null)})})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he,Ee,ve=a(105),Oe={acceleration:(he={},Object(m.a)(he,n.EW,Object(_.a)()),Object(m.a)(he,n.NS,Object(_.a)()),Object(m.a)(he,n.Z,Object(_.a)()),he),waves:(Ee={},Object(m.a)(Ee,r.S,null),Object(m.a)(Ee,r.P,null),Ee)};var Se=a(268),we={isPlaying:!1,tick:0};var ye=Object(ve.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_ACCELERATION":return Object(u.a)({},e,{acceleration:Object(u.a)({},e.acceleration,Object(m.a)({},t.direction,t.values))});case"RECEIVE_WAVE":return Object(u.a)({},e,{waves:Object(u.a)({},e.waves,Object(m.a)({},t.waveType,t.waveData))});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTROLS_PLAY":return Object(u.a)({},e,{isPlaying:!0});case"CONTROLS_PAUSE":return Object(u.a)({},e,{isPlaying:!1});case"CONTROLS_STOP":return Object(u.a)({},e,{isPlaying:!1,tick:0});case"CONTROLS_INC_TICK":return Object(u.a)({},e,{tick:e.tick+1});default:return e}}}),Ne={actionSanitizer:function(e){switch(e.type){case"RECEIVE_ACCELERATION":return Object(u.a)({},e);default:return e}},stateSanitizer:function(e){return e.data?Object(u.a)({},e,{data:Object(u.a)({},e.data,{acceleration:"<ACCELERATION DATA>"})}):e}},je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(Ne)||ve.d,Ce=Object(ve.e)(ye,je(Object(ve.a)(Se.a)));l.a.render(o.a.createElement(z.a,{store:Ce},o.a.createElement(me.a,{basename:"/cutremur77"},o.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[289,1,2]]]);
//# sourceMappingURL=main.405dc255.chunk.js.map