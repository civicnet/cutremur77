{"version":3,"sources":["store/data/types.ts","store/data/actions.ts","components/LineChart/index.tsx","components/Slider/SliderHandle.tsx","components/Slider/index.tsx","components/Timeline/index.tsx","store/ui/actions.ts","store/ui/types.ts","components/QuakeMap/index.tsx","routes/index.tsx","App.tsx","serviceWorker.ts","store/data/reducers.ts","store/ui/reducers.ts","store/index.ts","index.tsx"],"names":["AccelerationDirection","WaveType","getJsonPath","file","receiveAcceleration","direction","values","type","receiveWave","waveType","waveData","accelColors","EW","NS","Z","LineChart","connect","state","data","dispatch","fetchAccelerationAction","getState","a","acceleration","Promise","resolve","Object","keys","forEach","key","count","oboe","toLocaleLowerCase","node","val","drop","done","map","toLowerCase","filter","OrderedSet","props","useEffect","size","style","flexDirection","idx","height","width","toJS","containerComponent","responsive","padding","stroke","strokeWidth","parent","position","top","zIndex","useStyles","makeStyles","theme","createStyles","root","background","topNotch","left","borderLeft","borderRight","borderTop","bottomNotch","bottom","borderBottom","SliderHandle","classes","className","progress","flexGrow","display","bar","flex","alignSelf","justifyContent","paddingTop","barLabels","color","fontSize","opacity","barLabelsUnit","activeBarLabel","fontWeight","Slider","children","Array","from","TOTAL_DURATION","labelVal","Typography","clsx","timeElapsed","component","paddingRight","debug","textAlign","minWidth","minHeight","controls","justifySelf","clock","Timeline","ui","play","pause","stop","incrementTick","React","useState","animationFrame","setAnimationFrame","onAnimationFrame","interval","isPlaying","setInterval","clearInterval","percentDone","accelDataWidth","accelDataPadding","Date","setSeconds","getSeconds","Card","CardContent","variant","toLocaleString","Paper","IconButton","aria-label","onClick","htmlColor","getHours","getMinutes","initialViewState","window","innerWidth","innerHeight","longitude","latitude","zoom","maxZoom","minZoom","bearing","pitch","QuakeMap","fetchWaveAction","waves","P","S","elapsedSeconds","pWaveLayer","GeoJsonLayer","id","pickable","stroked","filled","lineWidthMinPixels","getLineColor","d","properties","lineWidthUnits","getLineWidth","updateTriggers","transitions","duration","easing","d3","enter","value","sWaveLayer","controller","layers","mapStyle","mapboxApiAccessToken","process","routes","path","exact","main","icon","Icon","text","paper","spacing","menuButton","marginRight","hide","drawer","flexShrink","whiteSpace","drawerPaper","drawerOpen","transition","create","sharp","enteringScreen","drawerClose","leavingScreen","overflowX","breakpoints","up","grow","menuItem","infoPanel","toolbar","alignItems","mixins","title","fontFamily","lineHeight","subtitle","paddingBottom","marginBottom","letterSpacing","metadata","stats","marginTop","statLabel","statValue","withRouter","isDrawerOpen","setIsDrawerOpen","loadCSS","document","querySelector","CssBaseline","Drawer","Button","src","alt","Divider","List","route","ListItem","button","Link","to","selected","location","pathname","ListItemIcon","marginLeft","ListItemText","primary","Switch","index","Boolean","hostname","match","initialState","tick","rootReducer","combineReducers","action","reduxDevtoolsExtensionOptions","actionSanitizer","stateSanitizer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","basename","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.44b47a66.chunk.js","sourcesContent":["import { OrderedSet } from \"immutable\";\n\nexport enum AccelerationDirection {\n  EW = \"EW\",\n  NS = \"NS\",\n  Z = \"Z\"\n}\n\nexport enum WaveType {\n  P = \"P\",\n  S = \"S\"\n}\n\nexport type AccelerationValues = OrderedSet<number>;\nexport type AccelerationData = {\n  [TKey in AccelerationDirection]: AccelerationValues;\n};\n\nexport type WaveTravelTimeData = {\n  [TKey in WaveType]: any;\n};\n\nexport interface DataState {\n  acceleration: AccelerationData;\n  waves: WaveTravelTimeData;\n}\n\nexport const FETCH_ACCELERATION = \"FETCH_ACCELERATION\";\nexport const RECEIVE_ACCELERATION = \"RECEIVE_ACCELERATION\";\n\nexport const FETCH_WAVE = \"FETCH_WAVE\";\nexport const RECEIVE_WAVE = \"RECEIVE_WAVE\";\n\nexport interface FetchAccelerationAction {\n  type: typeof FETCH_ACCELERATION;\n}\n\nexport interface ReceiveAccelerationAction {\n  type: typeof RECEIVE_ACCELERATION;\n  direction: AccelerationDirection;\n  values: AccelerationValues;\n}\n\nexport interface FetchWaveAction {\n  type: typeof FETCH_WAVE;\n}\n\nexport interface ReceiveWaveAction {\n  type: typeof RECEIVE_WAVE;\n  waveType: WaveType;\n  waveData: any;\n}\n\nexport type DataActionTypes =\n  | FetchAccelerationAction\n  | ReceiveAccelerationAction\n  | FetchWaveAction\n  | ReceiveWaveAction;\n","import {\n  DataState,\n  AccelerationDirection,\n  ReceiveAccelerationAction,\n  AccelerationValues,\n  RECEIVE_ACCELERATION,\n  WaveType,\n  RECEIVE_WAVE,\n  ReceiveWaveAction\n} from \"./types\";\n\nimport { Action } from \"redux\";\nimport { ThunkAction } from \"redux-thunk\";\nimport oboe from \"oboe\";\nimport { OrderedSet } from \"immutable\";\n\nconst getJsonPath = (file: string) =>\n  `https://cdn.jsdelivr.net/gh/civicnet/cutremur77@latest/public/data/${file}`;\n\nexport function receiveAcceleration(\n  direction: AccelerationDirection,\n  values: AccelerationValues\n): ReceiveAccelerationAction {\n  return {\n    type: RECEIVE_ACCELERATION,\n    direction,\n    values\n  };\n}\n\nexport const fetchAcceleration = (): ThunkAction<\n  void,\n  DataState,\n  null,\n  Action<string>\n> => async (dispatch, getState) => {\n  if (getState().acceleration) {\n    return Promise.resolve();\n  }\n\n  Object.keys(AccelerationDirection).forEach(key => {\n    let count = 0;\n    oboe(getJsonPath(`${key.toLocaleLowerCase()}_min.json`))\n      .node(\"!.*\", (val: any) => {\n        // Only consider every 10th value (each tick is 0.005sec)\n        if (count === 10) {\n          count = 0;\n          return val;\n        }\n        count++;\n        return oboe.drop;\n      })\n      .done((data: [any]) => {\n        const values = data\n          .map((val: any) => {\n            return val[key.toLowerCase()];\n          })\n          .filter(val => !!val);\n\n        dispatch(\n          receiveAcceleration(key as AccelerationDirection, OrderedSet(values))\n        );\n      });\n  });\n};\n\nexport function receiveWave(\n  waveType: WaveType,\n  waveData: any\n): ReceiveWaveAction {\n  return {\n    type: RECEIVE_WAVE,\n    waveType,\n    waveData\n  };\n}\n\nexport const fetchWave = (): ThunkAction<\n  void,\n  DataState,\n  null,\n  Action<string>\n> => async (dispatch, getState) => {\n  if (getState().waves) {\n    return Promise.resolve();\n  }\n\n  oboe(getJsonPath(`travel_time_p.geojson`)).done(data => {\n    dispatch(receiveWave(WaveType.P, data));\n  });\n\n  oboe(getJsonPath(`travel_time_s.geojson`)).done(data => {\n    dispatch(receiveWave(WaveType.S, data));\n  });\n};\n","import React, { useEffect } from \"react\";\n\nimport { VictoryLine, VictoryContainer } from \"victory\";\nimport { AccelerationDirection, DataState } from \"../../store/data/types\";\nimport { AppState } from \"../../store\";\nimport { fetchAcceleration } from \"../../store/data/actions\";\nimport { connect } from \"react-redux\";\n\nconst accelColors = {\n  [AccelerationDirection.EW]: \"#c43a31\",\n  [AccelerationDirection.NS]: \"#eceac7\",\n  [AccelerationDirection.Z]: \"#c0978d\"\n};\n\nconst mapStateToProps = (state: AppState) => ({\n  data: state.data\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n  fetchAccelerationAction: () => dispatch(fetchAcceleration())\n});\n\ninterface Props {\n  data: DataState;\n  fetchAccelerationAction: typeof fetchAcceleration;\n  style?: React.CSSProperties;\n}\n\nconst ConnectedLineChart: React.FC<Props> = props => {\n  const { fetchAccelerationAction } = props;\n  useEffect(() => {\n    fetchAccelerationAction();\n  }, [fetchAccelerationAction]);\n\n  if (\n    !props.data.acceleration.EW.size ||\n    !props.data.acceleration.NS.size ||\n    !props.data.acceleration.Z.size\n  ) {\n    return null;\n  }\n\n  return (\n    <div style={{ ...props.style, flexDirection: \"column\" }}>\n      {Object.keys(props.data.acceleration).map((key, idx) => (\n        <VictoryLine\n          key={key}\n          height={25}\n          width={400}\n          data={props.data.acceleration[key as AccelerationDirection].toJS()}\n          containerComponent={\n            <VictoryContainer responsive={true} height={25} />\n          }\n          padding={0}\n          style={{\n            data: {\n              stroke: accelColors[key as AccelerationDirection],\n              strokeWidth: 1.5\n            },\n            parent: {\n              position: \"absolute\",\n              top: idx * 20,\n              zIndex: 3 - idx\n            }\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport const LineChart = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConnectedLineChart);\n","import React from \"react\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: 2,\n      height: \"100%\",\n      background: \"#fff\",\n      position: \"absolute\",\n      zIndex: 100\n    },\n    topNotch: {\n      position: \"absolute\",\n      top: 0,\n      left: -9,\n      width: 0,\n      height: 0,\n      borderLeft: \"10px solid transparent\",\n      borderRight: \"10px solid transparent\",\n      borderTop: \"10px solid #fff\"\n    },\n    bottomNotch: {\n      position: \"absolute\",\n      bottom: 0,\n      left: -9,\n      width: 0,\n      height: 0,\n      borderLeft: \"10px solid transparent\",\n      borderRight: \"10px solid transparent\",\n      borderBottom: \"10px solid #fff\"\n    }\n  })\n);\n\ninterface Props {\n  progress: number;\n}\n\nexport const SliderHandle: React.FC<Props> = (props: Props) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      className={classes.root}\n      style={{ left: `calc(${props.progress}% - 3px)` }}\n    >\n      <div className={classes.topNotch} />\n      <div className={classes.bottomNotch} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport clsx from \"clsx\";\nimport { SliderHandle } from \"./SliderHandle\";\nimport { makeStyles, Theme, createStyles, Typography } from \"@material-ui/core\";\nimport { TOTAL_DURATION } from \"../Timeline\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n      display: \"flex\",\n      position: \"relative\"\n    },\n    bar: {\n      // background: '#f00',\n      flex: 1,\n      height: 20,\n      alignSelf: \"flex-end\",\n      // marginBottom: 20,\n      borderTop: \"2px dashed #3A3630\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      display: \"flex\",\n      paddingTop: 4\n    },\n    barLabels: {\n      // display: 'flex',\n      display: \"inline-block\",\n      color: \"#fff\",\n      fontSize: 12,\n      opacity: 0.7\n    },\n    barLabelsUnit: {\n      fontSize: 10\n    },\n    activeBarLabel: {\n      fontWeight: \"bold\",\n      opacity: 1\n    }\n  })\n);\n\ninterface Props {\n  progress: number;\n  children?: React.ReactElement;\n  timeElapsed: number;\n}\n\nexport const Slider: React.FC<Props> = (props: Props) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {props.children}\n      <div className={classes.bar}>\n        {Array.from(Array(TOTAL_DURATION / 10 + 1).keys()).map(idx => {\n          const labelVal = idx * 10;\n          return (\n            <Typography\n              className={clsx(\n                classes.barLabels,\n                labelVal < props.timeElapsed ? classes.activeBarLabel : null\n              )}\n              component=\"span\"\n            >\n              {labelVal || \"00\"}\n              <Typography className={classes.barLabelsUnit} component=\"span\">\n                S\n              </Typography>\n            </Typography>\n          );\n        })}\n      </div>\n      <SliderHandle progress={props.progress} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayCircleOutlineOutlined\";\nimport PauseIcon from \"@material-ui/icons/PauseCircleFilledOutlined\";\nimport {\n  IconButton,\n  makeStyles,\n  createStyles,\n  Theme,\n  Typography,\n  CardContent,\n  Card\n} from \"@material-ui/core\";\nimport { LineChart } from \"../LineChart\";\nimport { Slider } from \"../Slider\";\nimport {\n  controlsPlay,\n  controlsPause,\n  controlsStop,\n  controlsIncrementTick\n} from \"../../store/ui/actions\";\nimport { AppState } from \"../../store\";\nimport { UIState, TICK_DURATION } from \"../../store/ui/types\";\nimport { connect } from \"react-redux\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      height: 100,\n      position: \"absolute\",\n      background: \"#5B554D\",\n      width: \"60vw\",\n      bottom: 20,\n      left: \"20vw\",\n      padding: 8,\n      paddingRight: 20\n    },\n    debug: {\n      position: \"absolute\",\n      bottom: 20,\n      left: 20,\n      textAlign: \"left\",\n      minWidth: 200,\n      minHeight: 100\n    },\n    controls: {\n      alignSelf: \"center\",\n      justifySelf: \"center\",\n      minWidth: 80\n    },\n    clock: {\n      fontSize: 12,\n      fontWeight: \"bold\"\n    }\n  })\n);\n\nconst FRAME_DURATION = TICK_DURATION; // 1000 / FPS;\nexport const TOTAL_DURATION = 80;\n\nconst mapStateToProps = (state: AppState) => ({\n  ui: state.ui\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n  play: () => dispatch(controlsPlay()),\n  pause: () => dispatch(controlsPause()),\n  stop: () => dispatch(controlsStop()),\n  incrementTick: () => dispatch(controlsIncrementTick())\n});\n\ninterface Props {\n  ui: UIState;\n  play: typeof controlsPlay;\n  pause: typeof controlsPause;\n  stop: typeof controlsStop;\n  incrementTick: typeof controlsIncrementTick;\n  onAnimationFrame: (n: number) => void;\n}\n\nexport const ConnectedTimeline: React.FC<Props> = (props: Props) => {\n  const classes = useStyles();\n\n  const [animationFrame, setAnimationFrame] = React.useState(600);\n  //\n  React.useEffect(() => {\n    props.onAnimationFrame(animationFrame);\n\n    let interval: any = null;\n    if (props.ui.isPlaying) {\n      interval = setInterval(() => {\n        setAnimationFrame(animationFrame + 2);\n\n        if (animationFrame * FRAME_DURATION >= TOTAL_DURATION) {\n          props.pause();\n        }\n      }, /* FRAME_DURATION * 1000 */ 20);\n    } else if (!props.ui.isPlaying && animationFrame !== 0 && interval) {\n      clearInterval(interval);\n    }\n\n    return () => clearInterval(interval);\n  });\n\n  const onAnimationPlayback = () => {\n    !props.ui.isPlaying ? props.play() : props.pause();\n  };\n\n  const timeElapsed = animationFrame * FRAME_DURATION;\n  const percentDone = (timeElapsed * 100) / TOTAL_DURATION;\n\n  const accelDataWidth = (47 * 100) / TOTAL_DURATION;\n  const accelDataPadding = (33 * 100) / TOTAL_DURATION;\n\n  const clock = new Date(\"1977-03-04 21:21:11\");\n  clock.setSeconds(clock.getSeconds() + timeElapsed);\n  return (\n    <>\n      <Card className={classes.debug}>\n        <CardContent>\n          <Typography variant=\"body2\" component=\"p\">\n            Frame #: <strong>{animationFrame}</strong>\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            Time : <strong>{timeElapsed.toLocaleString(\"ro-RO\")} sec</strong>\n          </Typography>\n        </CardContent>\n      </Card>\n      <Paper className={classes.root} style={{}}>\n        <div className={classes.controls}>\n          <IconButton aria-label=\"playback\" onClick={onAnimationPlayback}>\n            {!props.ui.isPlaying ? (\n              <PlayArrowIcon fontSize=\"large\" htmlColor=\"#eceac7\" />\n            ) : (\n              <PauseIcon fontSize=\"large\" htmlColor=\"#eceac7\" />\n            )}\n          </IconButton>\n          <Typography className={classes.clock}>\n            {clock.getHours()}:{clock.getMinutes()}:{\" \"}\n            <Typography\n              style={{ color: \"#fff\", fontSize: 12 }}\n              component=\"span\"\n            >\n              {clock.getSeconds()}\n            </Typography>\n          </Typography>\n        </div>\n        <Slider progress={percentDone} timeElapsed={timeElapsed}>\n          <LineChart\n            style={{\n              position: \"absolute\",\n              top: 10,\n              left: `${accelDataPadding}%`,\n              width: `${accelDataWidth}%`\n            }}\n          />\n        </Slider>\n      </Paper>\n    </>\n  );\n};\n\nexport const Timeline = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConnectedTimeline);\n","import {\n  CONTROLS_PLAY,\n  ControlsPlayAction,\n  CONTROLS_PAUSE,\n  CONTROLS_STOP,\n  CONTROLS_INC_TICK,\n  ControlsPauseAction,\n  ControlsStopAction,\n  ControlsIncrementTickAction\n} from \"./types\";\n\nexport function controlsPlay(): ControlsPlayAction {\n  return {\n    type: CONTROLS_PLAY\n  };\n}\n\nexport function controlsPause(): ControlsPauseAction {\n  return {\n    type: CONTROLS_PAUSE\n  };\n}\n\nexport function controlsStop(): ControlsStopAction {\n  return {\n    type: CONTROLS_STOP\n  };\n}\n\nexport function controlsIncrementTick(): ControlsIncrementTickAction {\n  return {\n    type: CONTROLS_INC_TICK\n  };\n}\n","export const TICK_DURATION = 0.05; // seconds\n\nexport interface UIState {\n  isPlaying: boolean;\n  tick: number;\n}\n\nexport const CONTROLS_PLAY = \"CONTROLS_PLAY\";\nexport const CONTROLS_PAUSE = \"CONTROLS_PAUSE\";\nexport const CONTROLS_STOP = \"CONTROLS_STOP\";\nexport const CONTROLS_INC_TICK = \"CONTROLS_INC_TICK\";\n\nexport interface ControlsPlayAction {\n  type: typeof CONTROLS_PLAY;\n}\n\nexport interface ControlsPauseAction {\n  type: typeof CONTROLS_PAUSE;\n}\n\nexport interface ControlsStopAction {\n  type: typeof CONTROLS_STOP;\n}\n\nexport interface ControlsIncrementTickAction {\n  type: typeof CONTROLS_INC_TICK;\n}\n\nexport type UIActionTypes =\n  | ControlsPlayAction\n  | ControlsPauseAction\n  | ControlsStopAction\n  | ControlsIncrementTickAction;\n","import React, { useEffect } from \"react\";\n// import { makeStyles, Theme, createStyles } from \"@material-ui/core\";\n\nimport { StaticMap } from \"react-map-gl\";\nimport DeckGL from \"@deck.gl/react\";\nimport { GeoJsonLayer } from \"@deck.gl/layers\";\n\nimport { AppState } from \"../../store\";\nimport { fetchWave } from \"../../store/data/actions\";\nimport { connect } from \"react-redux\";\nimport { DataState, WaveType } from \"../../store/data/types\";\nimport { TICK_DURATION } from \"../../store/ui/types\";\nimport * as d3 from \"d3-ease\";\n\n/* const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: 3,\n      height: \"100%\",\n      background: \"#fff\",\n      position: \"absolute\"\n    }\n  })\n); */\n\nconst mapStateToProps = (state: AppState) => ({\n  data: state.data\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n  fetchWaveAction: () => dispatch(fetchWave())\n});\n\nconst initialViewState = {\n  width: window.innerWidth,\n  height: window.innerHeight,\n  longitude: 23.5602928,\n  latitude: 46.0291793,\n  zoom: 6,\n  maxZoom: 20,\n  minZoom: 1,\n  bearing: 0,\n  pitch: 0\n};\n\ninterface Props {\n  data: DataState;\n  fetchWaveAction: typeof fetchWave;\n  animationFrame: number;\n}\n\nexport const ConnectedQuakeMap: React.FC<Props> = (props: Props) => {\n  // const classes = useStyles();\n\n  const { fetchWaveAction } = props;\n  useEffect(() => {\n    fetchWaveAction();\n  }, [fetchWaveAction]);\n\n  const elapsedSeconds = props.animationFrame * TICK_DURATION;\n  // console.log('yy', elapsedSeconds)\n\n  const pWaveLayer = new GeoJsonLayer({\n    id: \"p-geojson-layer\",\n    data: props.data.waves[WaveType.P],\n    pickable: false,\n    stroked: true,\n    filled: false,\n    // lineWidthScale: 200,\n    lineWidthMinPixels: 1,\n    getLineColor: (d: any) => {\n      let opacity =\n        d.properties[\"Sec_P\"] < elapsedSeconds &&\n        d.properties[\"Sec_P\"] > elapsedSeconds - 2\n          ? 255\n          : 0;\n\n      if (d.properties[\"Sec_P\"] < elapsedSeconds - 2) {\n        opacity = 30;\n      }\n\n      if (d.properties[\"Sec_P\"] < elapsedSeconds - 20) {\n        opacity = 10;\n      }\n\n      return [200, 160, 80, opacity];\n    },\n    lineWidthUnits: \"pixels\",\n    getLineWidth: (d: any) => {\n      return d.properties[\"Sec_P\"] < elapsedSeconds &&\n        d.properties[\"Sec_P\"] > elapsedSeconds - 2\n        ? 2\n        : 1;\n    },\n    updateTriggers: {\n      getLineColor: [elapsedSeconds],\n      getLineWidth: [elapsedSeconds]\n    },\n    transitions: {\n      getLineColor: {\n        duration: 500,\n        easing: d3.easeLinear,\n        enter: (value: any) => [value[0], value[1], value[2], 0] // fade in\n      }\n    }\n  });\n\n  const sWaveLayer = new GeoJsonLayer({\n    id: \"s-geojson-layer\",\n    data: props.data.waves[WaveType.S],\n    pickable: false,\n    stroked: true,\n    filled: false,\n    // lineWidthScale: 200,\n    lineWidthMinPixels: 1,\n    getLineColor: (d: any) => {\n      let opacity =\n        d.properties[\"Sec_S\"] < elapsedSeconds &&\n        d.properties[\"Sec_S\"] > elapsedSeconds - 2\n          ? 255\n          : 0;\n\n      if (d.properties[\"Sec_S\"] < elapsedSeconds - 2) {\n        opacity = 30;\n      }\n\n      if (d.properties[\"Sec_S\"] < elapsedSeconds - 20) {\n        opacity = 10;\n      }\n\n      return [200, 80, 80, opacity];\n    },\n    lineWidthUnits: \"pixels\",\n    getLineWidth: (d: any) => {\n      return d.properties[\"Sec_S\"] < elapsedSeconds &&\n        d.properties[\"Sec_S\"] > elapsedSeconds - 2\n        ? 2\n        : 1;\n    },\n    updateTriggers: {\n      getLineColor: [elapsedSeconds],\n      getLineWidth: [elapsedSeconds]\n    },\n    transitions: {\n      getLineColor: {\n        duration: 500,\n        easing: d3.easeLinear,\n        enter: (value: any) => [value[0], value[1], value[2], 0] // fade in\n      }\n    }\n  });\n\n  return (\n    <DeckGL\n      initialViewState={initialViewState}\n      controller={true}\n      layers={[pWaveLayer, sWaveLayer]}\n    >\n      <StaticMap\n        width=\"100%\"\n        height=\"100%\"\n        mapStyle=\"mapbox://styles/claudiuc/ck7cg1f360fpu1jnkdksbg2xx/draft\"\n        mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n      />\n    </DeckGL>\n  );\n};\n\nexport const QuakeMap = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ConnectedQuakeMap);\n","import React from \"react\";\nimport { Icon } from \"@material-ui/core\";\n// import About from \"../containers/AnimationContainer\";\n\nconst routes = [\n  {\n    path: \"/\",\n    exact: true,\n    main: () => null,\n    icon: <Icon className=\"fal fa-home\" fontSize=\"small\" />,\n    text: \"Atlas\"\n  },\n  {\n    path: \"/despre\",\n    main: () => <div>Despre</div>,\n    icon: <Icon className=\"fal fa-question-circle\" fontSize=\"small\" />,\n    text: \"Ghid\"\n  },\n  {\n    path: \"/changelog\",\n    main: () => <div>Change</div>,\n    icon: <Icon className=\"fal fa-layer-group\" fontSize=\"small\" />,\n    text: \"Seturi de date\"\n  },\n  {\n    path: \"/changelog\",\n    main: () => <div>Change</div>,\n    icon: <Icon className=\"fal fa-info-circle\" fontSize=\"small\" />,\n    text: \"Despre\"\n  },\n  {\n    path: \"/changelog\",\n    main: () => <div>Change</div>,\n    icon: <Icon className=\"fal fa-at\" fontSize=\"small\" />,\n    text: \"Contact\"\n  }\n];\n\nexport default routes;\n","import React from \"react\";\nimport \"./App.css\";\nimport { Timeline } from \"./components/Timeline\";\nimport { QuakeMap } from \"./components/QuakeMap\";\nimport {\n  CssBaseline,\n  Drawer,\n  Divider,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Switch,\n  // useTheme,\n  Button,\n  makeStyles,\n  Typography\n} from \"@material-ui/core\";\nimport clsx from \"clsx\";\n\nimport { withRouter, RouteComponentProps, Route, Link } from \"react-router-dom\";\nimport { loadCSS } from \"fg-loadcss\";\nimport routes from \"./routes\";\nconst drawerWidth = 240;\nexport const APP_BAR_COLOR = \"#222f3e\";\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(1)\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  hide: {\n    display: \"none\"\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\"\n  },\n  drawerPaper: {\n    // backgroundColor: APP_BAR_COLOR,\n    background: \"#1E1515\"\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9) + 1\n    }\n  },\n  grow: {\n    flexGrow: 1\n  },\n  menuItem: {\n    // color: \"#FFF\",\n    // fontWeight: \"bold\",\n    // opacity: 0.7,\n    color: \"#FCF1E4\"\n  },\n  infoPanel: {\n    position: \"absolute\",\n    left: 110,\n    top: 35,\n    width: 260,\n    zIndex: 100,\n    color: \"#AFA294\",\n    textAlign: \"left\"\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 1),\n    ...theme.mixins.toolbar\n  },\n  title: {\n    fontFamily: \"'Roboto Condensed', Roboto, sans-serif\",\n    fontWeight: 700,\n    fontSize: \"3.5em\",\n    lineHeight: 0.9\n  },\n  subtitle: {\n    fontWeight: 300,\n    fontSize: \"1.5em\",\n    paddingBottom: 10,\n    marginBottom: 20,\n    borderBottom: \"1px solid #6B655D\",\n    letterSpacing: 2\n  },\n  metadata: {\n    fontWeight: 300\n  },\n  stats: {\n    marginTop: 40\n  },\n  statLabel: {\n    marginBottom: 20,\n    fontWeight: 300\n  },\n  statValue: {\n    color: \"#CC3333\",\n    fontSize: \"3em\",\n    lineHeight: 0.9,\n    fontWeight: 700\n  }\n}));\n\nconst App: React.FC<RouteComponentProps> = props => {\n  const [animationFrame, setAnimationFrame] = React.useState(0);\n\n  const classes = useStyles();\n  // const theme = useTheme();\n\n  const [isDrawerOpen, setIsDrawerOpen] = React.useState(false);\n\n  /* const handleDrawerOpen = () => {\n    setIsDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setIsDrawerOpen(false);\n  }; */\n\n  const toggleDrawer = () => {\n    isDrawerOpen ? setIsDrawerOpen(false) : setIsDrawerOpen(true);\n  };\n\n  React.useEffect(() => {\n    loadCSS(\n      \"https://pro.fontawesome.com/releases/v5.10.1/css/all.css\",\n      document.querySelector(\"#font-awesome-css\")\n    );\n  }, []);\n\n  return (\n    <>\n      <CssBaseline />\n      <Drawer\n        variant=\"permanent\"\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: isDrawerOpen,\n          [classes.drawerClose]: !isDrawerOpen\n        })}\n        classes={{\n          paper: clsx(classes.drawerPaper, {\n            [classes.drawerOpen]: isDrawerOpen,\n            [classes.drawerClose]: !isDrawerOpen\n          })\n        }}\n      >\n        <div className={classes.toolbar}>\n          <Button\n            component=\"a\"\n            onClick={toggleDrawer}\n            /* href=\"https://civicnet.ro\" */\n            style={{ display: \"flex\", flex: 1, justifyContent: \"center\" }}\n          >\n            {!isDrawerOpen ? (\n              <img\n                src=\"Logo_Cutremur_Simbol.svg\"\n                style={{ height: 32 }}\n                alt=\"CivicNet Logo\"\n              />\n            ) : (\n              <img\n                src=\"Logo_Cutremur_Full.svg\"\n                style={{ height: 32 }}\n                alt=\"CivicNet Logo\"\n              />\n            )}\n          </Button>\n          {/* <IconButton onClick={toggleDrawer}>\n            {!isDrawerOpen ? (\n              <ChevronRightIcon />\n            ) : (\n              <ChevronLeftIcon />\n            )}\n          </IconButton> */}\n        </div>\n        <Divider />\n        <List>\n          {routes.map(route => (\n            <ListItem\n              button\n              key={route.text}\n              component={Link}\n              to={route.path}\n              className={classes.menuItem}\n              selected={props.location.pathname === route.path}\n            >\n              <ListItemIcon\n                style={{ marginLeft: 12 }}\n                className={classes.menuItem}\n              >\n                {route.icon}\n              </ListItemIcon>\n              <ListItemText primary={route.text} />\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n      <main>\n        <div className=\"App\">\n          <div className={classes.infoPanel}>\n            <Typography className={classes.title} component=\"h1\">\n              Cutremur\n            </Typography>\n            <Typography className={classes.subtitle} component=\"h2\">\n              4 martie 1977\n            </Typography>\n            <Typography className={classes.metadata}>\n              <strong>Vrancea</strong> - zona seismică\n            </Typography>\n            <Typography className={classes.metadata}>\n              <strong>7.4 Mw</strong> - magnitudine\n            </Typography>\n            <Typography className={classes.metadata}>\n              <strong>94 km</strong> - adâncime\n            </Typography>\n            <Typography className={classes.metadata}>\n              <strong>21:21</strong> - ora locală\n            </Typography>\n\n            <div className={classes.stats}>\n              <Typography className={classes.statValue}>1.578</Typography>\n              <Typography className={classes.statLabel}>decedați</Typography>\n              <Typography className={classes.statValue}>11.321</Typography>\n              <Typography className={classes.statLabel}>răniți</Typography>\n              <Typography className={classes.statValue}>32.897</Typography>\n              <Typography className={classes.statLabel}>\n                clădiri avariate\n              </Typography>\n              <Typography className={classes.statValue}>2 MLD $</Typography>\n              <Typography className={classes.statLabel}>\n                impact economic\n              </Typography>\n            </div>\n          </div>\n          <QuakeMap animationFrame={animationFrame} />\n          <Timeline onAnimationFrame={setAnimationFrame} />\n        </div>\n        <Switch>\n          {routes.map((route, index) => (\n            <Route\n              key={index}\n              path={route.path}\n              exact={route.exact}\n              children={<route.main />}\n            />\n          ))}\n        </Switch>\n      </main>\n    </>\n  );\n};\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\n  DataState,\n  AccelerationDirection,\n  DataActionTypes,\n  RECEIVE_ACCELERATION,\n  WaveType,\n  RECEIVE_WAVE\n} from \"./types\";\nimport { OrderedSet } from \"immutable\";\n\nconst initialState: DataState = {\n  acceleration: {\n    [AccelerationDirection.EW]: OrderedSet(),\n    [AccelerationDirection.NS]: OrderedSet(),\n    [AccelerationDirection.Z]: OrderedSet()\n  },\n  waves: {\n    [WaveType.S]: null,\n    [WaveType.P]: null\n  }\n};\n\nexport function DataReducer(\n  state = initialState,\n  action: DataActionTypes\n): DataState {\n  switch (action.type) {\n    case RECEIVE_ACCELERATION:\n      return {\n        ...state,\n        acceleration: {\n          ...state.acceleration,\n          [action.direction]: action.values\n        }\n      };\n    case RECEIVE_WAVE:\n      return {\n        ...state,\n        waves: {\n          ...state.waves,\n          [action.waveType]: action.waveData\n        }\n      };\n    default:\n      return state;\n  }\n}\n","import {\n  CONTROLS_PLAY,\n  CONTROLS_PAUSE,\n  CONTROLS_INC_TICK,\n  UIState,\n  UIActionTypes,\n  CONTROLS_STOP\n} from \"./types\";\n\nconst initialState: UIState = {\n  isPlaying: false,\n  tick: 0\n};\n\nexport function UIReducer(\n  state = initialState,\n  action: UIActionTypes\n): UIState {\n  switch (action.type) {\n    case CONTROLS_PLAY:\n      return {\n        ...state,\n        isPlaying: true\n      };\n    case CONTROLS_PAUSE:\n      return {\n        ...state,\n        isPlaying: false\n      };\n    case CONTROLS_STOP:\n      return {\n        ...state,\n        isPlaying: false,\n        tick: 0\n      };\n    case CONTROLS_INC_TICK:\n      return {\n        ...state,\n        tick: state.tick + 1\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers, compose, createStore, applyMiddleware } from \"redux\";\nimport { DataReducer } from \"./data/reducers\";\nimport { RECEIVE_ACCELERATION } from \"./data/types\";\nimport thunk from \"redux-thunk\";\nimport { UIReducer } from \"./ui/reducers\";\n\nconst rootReducer = combineReducers({\n  data: DataReducer,\n  ui: UIReducer\n});\n\nexport const actionSanitizer = (action: any) => {\n  switch (action.type) {\n    case RECEIVE_ACCELERATION:\n      return {\n        ...action // Actually ok at 1/10 load\n      };\n    default:\n      return action;\n  }\n};\n\nconst stateSanitizer = (state: any) =>\n  state.data\n    ? { ...state, data: { ...state.data, acceleration: \"<ACCELERATION DATA>\" } }\n    : state;\n\nconst reduxDevtoolsExtensionOptions = {\n  actionSanitizer,\n  stateSanitizer\n};\n\nconst composeEnhancers =\n  ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(\n      reduxDevtoolsExtensionOptions\n    )) ||\n  compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;\nexport type AppState = ReturnType<typeof rootReducer>;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nimport { HashRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}