(this.webpackJsonpcutremur=this.webpackJsonpcutremur||[]).push([[0],{196:function(e,t){},290:function(e,t,a){e.exports=a(410)},295:function(e,t,a){},296:function(e,t,a){},405:function(e,t){},410:function(e,t,a){"use strict";a.r(t);var n,r,o=a(1),i=a.n(o),c=a(43),l=a.n(c),s=(a(295),a(12)),u=a(47),m=a(0),d=(a(296),a(412)),p=a(261),f=a.n(p),g=a(262),b=a.n(g),h=a(440),E=a(467),v=a(443),O=a(444),S=a(173),w=a(445),y=a(457),N=a(469);!function(e){e.EW="EW",e.NS="NS",e.Z="Z"}(n||(n={})),function(e){e.P="P",e.S="S"}(r||(r={}));var j=a(13),C=a.n(j),x=a(26),L=a(134),k=a.n(L),_=a(117),P=function(e){return"https://cdn.jsdelivr.net/gh/civicnet/cutremur77@latest/public/data/".concat(e)};function A(e,t){return{type:"RECEIVE_ACCELERATION",direction:e,values:t}}function T(e,t){return{type:"RECEIVE_WAVE",waveType:e,waveData:t}}var W,z=a(96),I=(W={},Object(m.a)(W,n.EW,"#c43a31"),Object(m.a)(W,n.NS,"#eceac7"),Object(m.a)(W,n.Z,"#c0978d"),W),R=Object(z.b)((function(e){return{data:e.data}}),(function(e){return{fetchAccelerationAction:function(){return e(function(){var e=Object(x.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().acceleration){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:Object.keys(n).forEach((function(e){var a=0;k()(P("".concat(e.toLocaleLowerCase(),"_min.json"))).node("!.*",(function(e){return 10===a?(a=0,e):(a++,k.a.drop)})).done((function(a){var n=a.map((function(t){return t[e.toLowerCase()]})).filter((function(e){return!!e}));t(A(e,Object(_.a)(n)))}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.fetchAccelerationAction;return Object(o.useEffect)((function(){t()}),[t]),e.data.acceleration.EW.size&&e.data.acceleration.NS.size&&e.data.acceleration.Z.size?i.a.createElement("div",{style:Object(u.a)({},e.style,{flexDirection:"column"})},Object.keys(e.data.acceleration).map((function(t,a){return i.a.createElement("div",null,i.a.createElement("span",{style:{position:"absolute",top:20*a,left:"-70%",fontSize:12,color:I[t],pointerEvents:"none"}},"Accelera\u021bie ",t," (cm/s",i.a.createElement("sup",null,"2"),")"),i.a.createElement(y.a,{key:t,height:25,width:400,data:e.data.acceleration[t].toJS(),containerComponent:i.a.createElement(N.a,{responsive:!0,height:25}),padding:0,style:{data:{stroke:I[t],strokeWidth:1.5},parent:{position:"absolute",top:20*a,zIndex:3-a}}}))}))):null})),B=a(17),V=Object(h.a)((function(e){return Object(E.a)({root:{width:2,height:"100%",background:"#fff",position:"absolute",zIndex:100},topNotch:{position:"absolute",top:0,left:-9,width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"10px solid #fff"},bottomNotch:{position:"absolute",bottom:0,left:-9,width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderBottom:"10px solid #fff"}})})),D=function(e){var t=V();return i.a.createElement("div",{className:t.root,style:{left:"calc(".concat(e.progress,"% - 3px)")}},i.a.createElement("div",{className:t.topNotch}),i.a.createElement("div",{className:t.bottomNotch}))},F=Object(h.a)((function(e){return Object(E.a)({root:{flexGrow:1,display:"flex",position:"relative"},bar:{flex:1,height:20,alignSelf:"flex-end",borderTop:"2px dashed #3A3630",flexDirection:"row",justifyContent:"space-between",display:"flex",paddingTop:4},barLabels:{display:"inline-block",color:"#fff",fontSize:12,opacity:.7,cursor:"pointer"},barLabelsUnit:{fontSize:10},activeBarLabel:{fontWeight:"bold",opacity:1}})})),M=function(e){var t=F();return i.a.createElement("div",{className:t.root},e.children,i.a.createElement("div",{className:t.bar},Array.from(Array(Z/10+1).keys()).map((function(a){var n=10*a;return i.a.createElement(S.a,{onClick:function(){return e.jumpToTime(n)},className:Object(B.a)(t.barLabels,n<e.timeElapsed?t.activeBarLabel:null),component:"span"},n||"00",i.a.createElement(S.a,{className:t.barLabelsUnit,component:"span"},"S"))}))),i.a.createElement(D,{progress:e.progress}))};var U=a(260),J=a.n(U),X=Object(h.a)((function(e){return Object(E.a)({root:{position:"absolute",background:"#5B554D",width:"60vw",bottom:20,left:"20vw",padding:8,paddingRight:20},timelineContents:{display:"flex",flex:1,height:84},title:{color:"#38342F",textAlign:"left",fontWeight:"bold",fontSize:12,marginBottom:12,textTransform:"uppercase"},debug:{position:"absolute",bottom:20,left:20,textAlign:"left",minWidth:200,minHeight:100},controls:{height:"100%",alignSelf:"center",justifySelf:"center",minWidth:80,position:"relative"},clock:{fontSize:12,fontWeight:"bold",position:"absolute",width:"100%",bottom:-4}})})),Z=80,H=Object(z.b)((function(e){return{ui:e.ui}}),(function(e){return{play:function(){return e({type:"CONTROLS_PLAY"})},pause:function(){return e({type:"CONTROLS_PAUSE"})},stop:function(){return e({type:"CONTROLS_STOP"})},incrementTick:function(){return e({type:"CONTROLS_INC_TICK"})}}}))((function(e){var t=X(),a=i.a.useState(600),n=Object(s.a)(a,2),r=n[0],o=n[1],c=i.a.useState(0),l=Object(s.a)(c,2);l[0],l[1];i.a.useEffect((function(){e.onAnimationFrame(r);var t=null;return e.ui.isPlaying?t=setInterval((function(){o(r+2),.05*r>=Z&&e.pause()}),20):!e.ui.isPlaying&&0!==r&&t&&clearInterval(t),function(){return clearInterval(t)}}));var u=.05*r,m=100*u/Z,p=4700/Z,g=3300/Z,h=2600/Z,E=4200/Z,y=m-E,N=y>0&&y<26&&e.ui.isPlaying,j=new Date("1977-03-04 21:20:26");j.setSeconds(j.getSeconds()+u);return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{className:t.debug},i.a.createElement(O.a,null,i.a.createElement(S.a,{variant:"body2",component:"p"},"Frame #: ",i.a.createElement("strong",null,r)),i.a.createElement(S.a,{variant:"body2",component:"p"},"Time : ",i.a.createElement("strong",null,u.toLocaleString("ro-RO")," sec")))),i.a.createElement(d.a,{className:t.root,style:{}},i.a.createElement(S.a,{component:"h3",className:t.title},"Propagare seism 1977"),i.a.createElement("div",{className:t.timelineContents},i.a.createElement("div",{className:t.controls},i.a.createElement(w.a,{"aria-label":"playback",onClick:function(){e.ui.isPlaying?e.pause():e.play()}},e.ui.isPlaying?i.a.createElement(b.a,{fontSize:"large",htmlColor:"#eceac7"}):i.a.createElement(f.a,{fontSize:"large",htmlColor:"#eceac7"})),i.a.createElement(S.a,{className:t.clock},j.getHours(),":",j.getMinutes(),":"," ",i.a.createElement(S.a,{style:{color:"#fff",fontSize:12},component:"span"},j.getSeconds()))),i.a.createElement(M,{progress:m,timeElapsed:u,jumpToTime:function(t){e.ui.isPlaying&&e.pause(),o(t/.05),e.onAnimationFrame(r)}},i.a.createElement("div",null,i.a.createElement(R,{style:{position:"absolute",top:0,left:"".concat(g,"%"),width:"".concat(p,"%")}}),i.a.createElement("div",{style:{height:2,background:"#fff",width:"".concat(h,"%"),left:"".concat(E,"%"),position:"absolute"}},i.a.createElement(J.a,{url:"/cutremur77/data/audio.mp3",playStatus:N?"PLAYING":"PAUSED",autoLoad:!0,loop:!1,volume:20,playFromPosition:N?void 0:1e3*y})))))))})),Y=a(270),G=a(458),q=a(461),K=a(273),$=a(462),Q=a(239),ee={width:window.innerWidth,height:window.innerHeight,longitude:23.5602928,latitude:46.0291793,zoom:6,maxZoom:20,minZoom:1,bearing:0,pitch:0},te=[{coords:{lat:44.44,long:26.16},name:"Sta\u021bia seismic\u0103 INCERC"},{coords:{lat:45.77,long:26.76},name:"Epicentru"}],ae=Object(z.b)((function(e){return{data:e.data}}),(function(e){return{fetchWaveAction:function(){return e(function(){var e=Object(x.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().waves){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:k()(P("travel_time_p.geojson")).done((function(e){t(T(r.P,e))})),k()(P("travel_time_s.geojson")).done((function(e){t(T(r.S,e))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.fetchWaveAction;Object(o.useEffect)((function(){t()}),[t]);var a=.05*e.animationFrame,n=new q.a({id:"p-geojson-layer",data:e.data.waves[r.P],pickable:!1,stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:function(e){var t=e.properties.Sec_P<a&&e.properties.Sec_P>a-2?255:0;return e.properties.Sec_P<a-2&&(t=30),e.properties.Sec_P<a-20&&(t=10),[200,160,80,t]},lineWidthUnits:"pixels",getLineWidth:function(e){return e.properties.Sec_P<a&&e.properties.Sec_P>a-2?2:1},updateTriggers:{getLineColor:[a],getLineWidth:[a]},transitions:{getLineColor:{duration:500,easing:Q.a,enter:function(e){return[e[0],e[1],e[2],0]}}}}),c=new q.a({id:"s-geojson-layer",data:e.data.waves[r.S],pickable:!1,stroked:!0,filled:!1,lineWidthMinPixels:1,getLineColor:function(e){var t=e.properties.Sec_S<a&&e.properties.Sec_S>a-2?255:0;return e.properties.Sec_S<a-2&&(t=30),e.properties.Sec_S<a-20&&(t=10),[200,80,80,t]},lineWidthUnits:"pixels",getLineWidth:function(e){return e.properties.Sec_S<a&&e.properties.Sec_S>a-2?2:1},updateTriggers:{getLineColor:[a],getLineWidth:[a]},transitions:{getLineColor:{duration:500,easing:Q.a,enter:function(e){return[e[0],e[1],e[2],0]}}}}),l=new K.a({id:"scatterplot-layer",data:te,pickable:!1,filled:!0,radiusScale:15,radiusMinPixels:1,radiusMaxPixels:100,getPosition:function(e){return[e.coords.long,e.coords.lat]},getFillColor:[255,0,0],getRadius:300}),s=te.map((function(e){return e.name.split("")})).reduce((function(e,t){return t.forEach((function(t){return e.push(t)})),e}),[]),u=new $.a({id:"text-layer",data:te,pickable:!1,getPosition:function(e){return[e.coords.long,e.coords.lat]},getText:function(e){return e.name},getSize:20,getAngle:0,getTextAnchor:"middle",getAlignmentBaseline:"bottom",characterSet:s,getPixelOffset:[0,-20],getColor:[255,230,200]});return i.a.createElement(G.a,{initialViewState:ee,controller:!0,layers:[n,c,l,u]},i.a.createElement(Y.a,{width:"100%",height:"100%",mapStyle:"mapbox://styles/claudiuc/ck7cg1f360fpu1jnkdksbg2xx/draft",mapboxApiAccessToken:"pk.eyJ1IjoiY2xhdWRpdWMiLCJhIjoiY2s3YXk4enVtMTNibzNtb2duNXk2M3doNSJ9.yoRycMmJVOJcdBMrLXEqLw"}))})),ne=a(451),re=a(460),oe=a(452),ie=a(453),ce=a(454),le=a(468),se=a(455),ue=a(456),me=a(450),de=a(465),pe=a(166),fe=a(98),ge=a(267),be=[{path:"/",exact:!0,main:function(){return null},icon:i.a.createElement(me.a,{className:"fal fa-home",fontSize:"small"}),text:"Atlas"},{path:"/despre",main:function(){return i.a.createElement("div",null,"Despre")},icon:i.a.createElement(me.a,{className:"fal fa-question-circle",fontSize:"small"}),text:"Ghid"},{path:"/changelog",main:function(){return i.a.createElement("div",null,"Change")},icon:i.a.createElement(me.a,{className:"fal fa-layer-group",fontSize:"small"}),text:"Seturi de date"},{path:"/changelog",main:function(){return i.a.createElement("div",null,"Change")},icon:i.a.createElement(me.a,{className:"fal fa-info-circle",fontSize:"small"}),text:"Despre"},{path:"/changelog",main:function(){return i.a.createElement("div",null,"Change")},icon:i.a.createElement(me.a,{className:"fal fa-at",fontSize:"small"}),text:"Contact"}],he=Object(h.a)((function(e){return{paper:{padding:e.spacing(1)},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerPaper:{background:"#1E1515"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(m.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),grow:{flexGrow:1},menuItem:{color:"#FCF1E4"},infoPanel:{position:"absolute",left:110,top:35,width:260,zIndex:100,color:"#AFA294",textAlign:"left",pointerEvents:"none"},toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),title:{fontFamily:"'Roboto Condensed', Roboto, sans-serif",fontWeight:700,fontSize:"3.5em",lineHeight:.9},subtitle:{fontWeight:300,fontSize:"1.5em",paddingBottom:10,marginBottom:20,borderBottom:"1px solid #6B655D",letterSpacing:2},metadata:{fontWeight:300},stats:{marginTop:40},statLabel:{marginBottom:20,fontWeight:300},statValue:{color:"#CC3333",fontSize:"3em",lineHeight:.9,fontWeight:700},toggleButton:{position:"absolute",right:35,top:35,width:120,height:120,borderRadius:"50%",zIndex:100,background:"#5C574D",border:"1px solid #9C9489",color:"#9C9489"},toggleButtonLabel:{flexDirection:"column"},toggleButtonText:{lineHeight:1,marginTop:12,fontSize:16,fontWeight:"bold"}}})),Ee=Object(fe.e)((function(e){var t,a,n=i.a.useState(0),r=Object(s.a)(n,2),o=r[0],c=r[1],l=he(),u=i.a.useState(!1),d=Object(s.a)(u,2),p=d[0],f=d[1];return i.a.useEffect((function(){Object(ge.loadCSS)("https://pro.fontawesome.com/releases/v5.10.1/css/all.css",document.querySelector("#font-awesome-css"))}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(ne.a,null),i.a.createElement(re.a,{variant:"permanent",className:Object(B.a)(l.drawer,(t={},Object(m.a)(t,l.drawerOpen,p),Object(m.a)(t,l.drawerClose,!p),t)),classes:{paper:Object(B.a)(l.drawerPaper,(a={},Object(m.a)(a,l.drawerOpen,p),Object(m.a)(a,l.drawerClose,!p),a))}},i.a.createElement("div",{className:l.toolbar},i.a.createElement(oe.a,{component:"a",onClick:function(){f(!p)},style:{display:"flex",flex:1,justifyContent:"center"}},p?i.a.createElement("img",{src:"Logo_Cutremur_Full.svg",style:{height:32},alt:"CivicNet Logo"}):i.a.createElement("img",{src:"Logo_Cutremur_Simbol.svg",style:{height:32},alt:"CivicNet Logo"}))),i.a.createElement(ie.a,null),i.a.createElement(ce.a,null,be.map((function(t){return i.a.createElement(le.a,{button:!0,key:t.text,component:pe.b,to:t.path,className:l.menuItem,selected:e.location.pathname===t.path},i.a.createElement(se.a,{style:{marginLeft:12},className:l.menuItem},t.icon),i.a.createElement(ue.a,{primary:t.text}))})))),i.a.createElement("main",null,i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:l.infoPanel},i.a.createElement(S.a,{className:l.title,component:"h1"},"Cutremur"),i.a.createElement(S.a,{className:l.subtitle,component:"h2"},"4 martie 1977"),i.a.createElement(S.a,{className:l.metadata},i.a.createElement("strong",null,"Vrancea")," - zona seismic\u0103"),i.a.createElement(S.a,{className:l.metadata},i.a.createElement("strong",null,"7.4 Mw")," - magnitudine"),i.a.createElement(S.a,{className:l.metadata},i.a.createElement("strong",null,"94 km")," - ad\xe2ncime"),i.a.createElement(S.a,{className:l.metadata},i.a.createElement("strong",null,"21:21")," - ora local\u0103"),i.a.createElement("div",{className:l.stats},i.a.createElement(S.a,{className:l.statValue},"1.578"),i.a.createElement(S.a,{className:l.statLabel},"deceda\u021bi"),i.a.createElement(S.a,{className:l.statValue},"11.321"),i.a.createElement(S.a,{className:l.statLabel},"r\u0103ni\u021bi"),i.a.createElement(S.a,{className:l.statValue},"32.897"),i.a.createElement(S.a,{className:l.statLabel},"cl\u0103diri avariate"),i.a.createElement(S.a,{className:l.statValue},"2 MLD $"),i.a.createElement(S.a,{className:l.statLabel},"impact economic"))),i.a.createElement(oe.a,{variant:"contained",color:"inherit",disableElevation:!0,classes:{label:l.toggleButtonLabel,root:l.toggleButton}},i.a.createElement(me.a,{className:"fas fa-map-marked-alt",style:{display:"block"}}),i.a.createElement("div",{className:l.toggleButtonText},"Vezi h\u0103r\u021bi")),i.a.createElement(ae,{animationFrame:o}),i.a.createElement(H,{onAnimationFrame:c})),i.a.createElement(de.a,null,be.map((function(e,t){return i.a.createElement(fe.a,{key:t,path:e.path,exact:e.exact,children:i.a.createElement(e.main,null)})})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve,Oe,Se=a(105),we={acceleration:(ve={},Object(m.a)(ve,n.EW,Object(_.a)()),Object(m.a)(ve,n.NS,Object(_.a)()),Object(m.a)(ve,n.Z,Object(_.a)()),ve),waves:(Oe={},Object(m.a)(Oe,r.S,null),Object(m.a)(Oe,r.P,null),Oe)};var ye=a(269),Ne={isPlaying:!1,tick:0};var je=Object(Se.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_ACCELERATION":return Object(u.a)({},e,{acceleration:Object(u.a)({},e.acceleration,Object(m.a)({},t.direction,t.values))});case"RECEIVE_WAVE":return Object(u.a)({},e,{waves:Object(u.a)({},e.waves,Object(m.a)({},t.waveType,t.waveData))});default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTROLS_PLAY":return Object(u.a)({},e,{isPlaying:!0});case"CONTROLS_PAUSE":return Object(u.a)({},e,{isPlaying:!1});case"CONTROLS_STOP":return Object(u.a)({},e,{isPlaying:!1,tick:0});case"CONTROLS_INC_TICK":return Object(u.a)({},e,{tick:e.tick+1});default:return e}}}),Ce={actionSanitizer:function(e){switch(e.type){case"RECEIVE_ACCELERATION":return Object(u.a)({},e);default:return e}},stateSanitizer:function(e){return e.data?Object(u.a)({},e,{data:Object(u.a)({},e.data,{acceleration:"<ACCELERATION DATA>"})}):e}},xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(Ce)||Se.d,Le=Object(Se.e)(je,xe(Object(Se.a)(ye.a)));l.a.render(i.a.createElement(z.a,{store:Le},i.a.createElement(pe.a,{basename:"/cutremur77"},i.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[290,1,2]]]);
//# sourceMappingURL=main.90904f43.chunk.js.map